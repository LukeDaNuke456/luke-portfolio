(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function s(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(t){if(t.ep)return;t.ep=!0;const i=s(t);fetch(t.href,i)}})();class u{constructor(e,s,o){if(this.canvas=document.getElementById(e),this.ctx=this.canvas.getContext("2d"),this.text1=s,this.text2=o,this.index1=0,this.index2=0,this.typingSpeed=100,this.fadeDelay=1e3,this.cursorVisible=!0,this.cursorBlinkSpeed=500,this.isTypingComplete=!1,this.fontLoaded=!1,!this.canvas){console.error(`Canvas with ID "${e}" not found.`);return}this.init()}async init(){await this.loadFont(),this.resizeCanvas(),this.startTypingEffect(),this.startCursorBlink(),window.addEventListener("resize",()=>this.resizeCanvas())}async loadFont(){try{const e=new FontFace("CustomFont",'url("fonts/VT323-Regular.ttf")');await e.load(),document.fonts.add(e),this.fontLoaded=!0,this.drawText()}catch(e){console.error("Font failed to load:",e)}}resizeCanvas(){const e=document.querySelector(".canvas-section");if(!e){console.error("Canvas section not found.");return}this.canvas.width=e.clientWidth,this.canvas.height=e.clientHeight,this.drawText()}drawText(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);const e=Math.min(Math.max(20,this.canvas.width*.09),40);this.fontLoaded?this.ctx.font=`${e}px CustomFont`:this.ctx.font=`${e}px Arial`,this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.fillStyle="rgba(255, 255, 255, 1)";const s=this.index1<this.text1.length,o=!s&&this.index2<this.text2.length,t=this.cursorVisible?"|":" ";let i=this.text1.substring(0,this.index1),a=this.text2.substring(0,this.index2);s?i+=t:o?a+=t:(a+=t,this.isTypingComplete=!0),this.ctx.fillText(i,this.canvas.width/2,this.canvas.height/2-30),this.ctx.fillText(a,this.canvas.width/2,this.canvas.height/2+40)}startTypingEffect(){const e=()=>{this.index1<this.text1.length?(this.index1++,this.drawText(),setTimeout(e,this.typingSpeed)):setTimeout(s,this.fadeDelay)},s=()=>{this.index2<this.text2.length?(this.index2++,this.drawText(),setTimeout(s,this.typingSpeed)):this.isTypingComplete=!0};e()}startCursorBlink(){setInterval(()=>{this.cursorVisible=!this.cursorVisible,this.drawText()},this.cursorBlinkSpeed)}}new u("myCanvas","Hello, I'm Luke.","Welcome to my page.");const m=document.querySelectorAll("section"),f=document.querySelectorAll("#navbar-list a"),p=new IntersectionObserver(n=>{n.forEach(e=>{const s=document.querySelector(`#nav-${e.target.id}`);e.isIntersecting&&(f.forEach(o=>o.classList.remove("active-link")),s==null||s.classList.add("active-link"))})},{threshold:.6});m.forEach(n=>{p.observe(n)});const d=document.getElementById("hamburger"),h=document.getElementById("mobile-menu"),g=h.querySelectorAll("a");d.addEventListener("click",()=>{d.classList.toggle("active"),h.classList.toggle("hidden")});g.forEach(n=>{n.addEventListener("click",()=>{h.classList.add("hidden"),d.classList.remove("active")})});fetch("json/projects.json").then(n=>n.json()).then(n=>{const e=document.getElementById("projects-container");n.forEach(s=>{const o=document.createElement("div");o.className="project-card bg-gray-800 text-white rounded-lg shadow-lg overflow-hidden transition transform hover:scale-105";const t=document.createElement("img");t.src=s.image,t.alt=s.title,t.className="w-full h-48 object-cover",o.appendChild(t);const i=document.createElement("div");i.className="p-4";const a=document.createElement("h3");a.className="text-xl font-semibold mb-2",a.textContent=s.title,i.appendChild(a);const l=document.createElement("p");l.className="mb-4",l.textContent=s.description,i.appendChild(l);const c=document.createElement("div");if(c.className="flex gap-2",s.github){const r=document.createElement("a");r.href=s.github,r.target="_blank",r.rel="noopener noreferrer",r.textContent="GitHub",r.className="bg-gray-700 text-white px-3 py-1 rounded hover:bg-gray-600",c.appendChild(r)}if(s.liveDemo){const r=document.createElement("a");r.href=s.liveDemo,r.target="_blank",r.rel="noopener noreferrer",r.className="bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-500",r.textContent="Live Demo",c.appendChild(r)}i.appendChild(c),o.appendChild(i),e.appendChild(o)})}).catch(n=>{console.error("Failed to fetch projects:",n);const e=document.getElementById("projects-container");e.innerHTML='<p class="text-red-500">Failed to load projects. Please try again later.</p>'});
